<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Super Adivinanza 1000 - NES Edition</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap');
        body { font-family: 'Press Start 2P', cursive; background-color: #000; color: #fff; }
        .pixel-border { border: 4px solid #fff; box-shadow: 5px 5px 0px #ff0000; }
        input { image-rendering: pixelated; }
    </style>
</head>
<body class="flex flex-col items-center justify-center min-h-screen p-4 overflow-hidden">

    <h1 class="text-red-600 text-xl text-center mb-6 leading-relaxed">SUPER ADIVINANZA</h1>

    <div class="bg-slate-900 p-4 w-full max-w-sm pixel-border rounded-lg text-center">
        <p id="intentos" class="text-[10px] mb-4 text-blue-400">INTENTOS: 0</p>
        
        <div id="historial" class="bg-black h-32 overflow-y-auto mb-4 p-2 text-[8px] text-green-500 text-left border border-slate-700">
            --- SISTEMA LISTO ---
        </div>

        <input type="number" id="inputNum" placeholder="???" 
               class="w-full bg-white text-black text-center py-4 text-2xl mb-4 outline-none">

        <button onclick="verificar()" 
                class="w-full bg-red-600 hover:bg-red-500 py-3 text-white text-sm active:translate-y-1 transition-transform">
            [ START ]
        </button>

        <p id="pista" class="text-[10px] mt-6 text-yellow-400">ADIVINA DEL 1 AL 1000</p>
    </div>

    <div class="mt-8 flex flex-col items-center gap-2">
        <select id="selectMusica" onchange="cambiarMusica()" class="bg-slate-800 text-[8px] p-2 border border-slate-600 outline-none">
            <option value="1.mp3">PISTA 01</option>
            <option value="2.mp3">PISTA 02</option>
            <option value="3.mp3">PISTA 03</option>
            <option value="4.mp3">PISTA 04</option>
            <option value="5.mp3">PISTA 05</option>
            <option value="6.mp3">PISTA 06</option>
        </select>
        <p class="text-[8px] text-slate-500 italic">Pulsa START para activar mÃºsica</p>
    </div>

    <audio id="bgMusic" loop></audio>

    <script>
        let numeroSecreto = Math.floor(Math.random() * 1000) + 1;
        let intentos = 0;
        const audio = document.getElementById('bgMusic');

        function cambiarMusica() {
            const track = document.getElementById('selectMusica').value;
            audio.src = track;
            audio.play().catch(() => console.log("Esperando interacciÃ³n del usuario"));
        }

        function verificar() {
            const input = document.getElementById('inputNum');
            const num = parseInt(input.value);
            const pista = document.getElementById('pista');
            const historial = document.getElementById('historial');
            const lblIntentos = document.getElementById('intentos');

            // Iniciar mÃºsica en el primer clic (requisito de navegadores mÃ³viles)
            if (intentos === 0 && !audio.src) {
                cambiarMusica();
            }

            if (isNaN(num)) return;

            intentos++;
            lblIntentos.innerText = `INTENTOS: ${intentos}`;

            let mensaje = "";
            if (num < numeroSecreto) {
                mensaje = "MAS GRANDE â†‘";
                pista.style.color = "#fbbf24";
            } else if (num > numeroSecreto) {
                mensaje = "MAS PEQUEÃ‘O â†“";
                pista.style.color = "#fbbf24";
            } else {
                mensaje = "Â¡GANASTE! ðŸŽ‰";
                pista.style.color = "#22c55e";
                alert(`Â¡CONSEGUIDO EN ${intentos} INTENTOS!`);
                location.reload();
            }

            pista.innerText = mensaje;
            historial.innerHTML += `INTENTO ${intentos}: ${num} (${mensaje})<br>`;
            historial.scrollTop = historial.scrollHeight;
            input.value = "";
            input.focus();
        }
    </script>
</body>
</html>
